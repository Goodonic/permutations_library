/**
 * ЗАДАЧА 2.2: Генерация через факториальную систему счисления
 * 1. Реализовать преобразование числа в факториальную систему
 * 2. По факториальным цифрам строить перестановку
 * 3. Прямой доступ к любой перестановке по ее номеру
 * 4. Генерация в порядке возрастания номеров
 */
void permutationFromIndex(int arr[], int n, long index, int result[])
{
    // Преобразование index в факториальную систему
    // Построение перестановки по факториальным цифрам
    // Копирование элементов из arr в result согласно перестановке
    // Обработка index вне диапазона [0, n!-1]
}

void permutationsFactorialSystem(int arr[], int n, void (*callback)(int perm[], int n))
{
    // Вычисление n!
    // Цикл по всем индексам от 0 до n!-1
    // Для каждого индекса вызывать permutation_from_index()
    // Вызывать callback() с полученной перестановкой
}